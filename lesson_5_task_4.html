<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="lesson_5_task_4.1.css">
</head>

<body>
    <div class="footer">
        <h1 class="heading_2">Все товары</h1>
        <!--<ul class="product_list">-->
        <div class="product">
            <div class="productName"> кошка 1</div>
            <img src="img.jpg" alt="big size"><br>
            <button> подробнее </button>
            
           
        </div>
        <div class="product">
            <div class="productName"> кошка 2</div>
            <img src="img.jpg" alt="big size"><br>
            <button> подробнее </button>
            
        </div>
        <div class="product">
            <div class="productName"> кошка 3</div>
            <img src="img.jpg" alt="big size"><br>
            <button> подробнее </button>
            
        </div>

    </div>



    <script>
        'use strict';
        /*
        4 Сделайте несколько карточек товара, примерно такого вида:
        При нажатии на кнопку «Подробнее» вместо картинки должен появляться текст с описанием товара, примерно так:
        1 Имейте в виду, что назначить обработку события можно по отдельности каждому элементу, а не всем
        сразу, т.е., например, для этих кнопок:
        const buttons = document.querySelectorAll('button');
        buttons.addEventListener('click', function() {});
        т.к. это коллекция, а не одна конкретная кнопка, воспользуйтесь например методом forEach
        2 С помощью querySelector можно искать не только в документе, но и внутри какого-то элемента,
        например: https://codepen.io/IgorKubikov/pen/arWKyz?editors=1010
        3 У объекта события MouseEvent, которое происходит при клике есть свойство target, которое указывает на
        каком элементе произошел клик, а у него в свою очередь есть свойство parentNode, которое содержит родительский
        элемент. Подробнее: https://codepen.io/IgorKubikov/pen/arWKpo?editors=1010
         */

         const buttons = document.querySelectorAll('button');
         buttons.forEach(function (button) {
             button.addEventListener('click', function(event) {
                 handleClick(event);
             });
         });

         function handleClick(clickedButtonEvent) {
             const cardNode = clickedButtonEvent.target.parentNode;
             
             const card = {
                 wrap: cardNode,
                 img: cardNode.querySelector('img'),
                 productName: cardNode.querySelector('.productName'),
                 button: cardNode.querySelector('button'),
             };

             const textOnButton = card.button.innerText;
             if (textOnButton === 'подробнее') {
                 showMoreText(card);
             } else if (textOnButton === 'отмена') {
                 hideMoreText(card);
             }
         }

         function showMoreText(card) {
             card.img.style.display = 'none';
             const text = 'Кошка умная, красивая и толстая';
             card.productName.insertAdjacentHTML('afterend', `<div class="description"> ${text} </div>`);
             card.button.innerText = 'отмена';
         }

         function hideMoreText(card) {
             card.img.style.display = 'block';
             card.wrap.querySelector('.description').remove();
             card.button.innerText = 'подробнее';
         }

    </script>
</body>

</html>